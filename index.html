<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ูุธุงู ุงูุฃุณุฆูุฉ ุงูุชูุงุนูู - ุฃููุงุท ุงูุชุนูู</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap');
    body { font-family: 'Tajawal', sans-serif; }
    .pattern-card {
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .pattern-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
    .visual-pattern { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
    .analytical-pattern { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
    .interactive-pattern { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
    .comprehensive-pattern { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }

    .question-card {
      background: white; border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    .question-card:hover { transform: translateY(-2px); box-shadow:0 15px 40px rgba(0,0,0,0.15); }

    .geogebra-container { border: 3px solid #4facfe; border-radius: 10px; background: #f8faff; }

    /* ุฅุทุงุฑ ุงููุณุชุทูู ุงูุนุงู ููุตูุฑ */
    .img-frame { background:#fff; border:2px solid #93c5fd; border-radius: 12px; padding:16px; box-shadow: 0 10px 20px rgba(0,0,0,.08); }
  </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-blue-50 min-h-screen">
  <div class="container mx-auto px-4 py-8">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-800 mb-4">๐ฏ ูุธุงู ุงูุฃุณุฆูุฉ ุงูุชูุงุนูู</h1>
      <p class="text-lg text-gray-600">ุงุฎุชุงุฑู ููุท ุงูุชุนูู ุงูููุงุณุจ ููู ูุงุณุชูุชุนู ุจุญู ุงูุฃุณุฆูุฉ</p>
    </div>

    <!-- Learning Patterns Selection -->
    <div id="patternSelection" class="mb-12">
      <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">๐ ุงุฎุชุงุฑู ููุท ุงูุชุนูู ุงูููุถู ูุฏููู</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="pattern-card visual-pattern text-white p-6 rounded-xl cursor-pointer" onclick="selectPattern('visual')">
          <div class="text-center"><div class="text-4xl mb-4">๐๏ธ</div><h3 class="text-xl font-bold mb-2">ุงูููุท ุงูุจุตุฑู</h3><p class="text-sm opacity-90">ุฃุญุจ ุฑุคูุฉ ุงูุตูุฑ ูุงูุฑุณูู ุงูุจูุงููุฉ</p></div>
        </div>
        <div class="pattern-card analytical-pattern text-white p-6 rounded-xl cursor-pointer" onclick="selectPattern('analytical')">
          <div class="text-center"><div class="text-4xl mb-4">๐งฎ</div><h3 class="text-xl font-bold mb-2">ุงูููุท ุงูุชุญูููู</h3><p class="text-sm opacity-90">ุฃูุถู ุงูุฃุณุฆูุฉ ุงููุตูุฉ ูุงูุญุณุงุจุงุช</p></div>
        </div>
        <div class="pattern-card interactive-pattern text-white p-6 rounded-xl cursor-pointer" onclick="selectPattern('interactive')">
          <div class="text-center"><div class="text-4xl mb-4">๐ฎ</div><h3 class="text-xl font-bold mb-2">ุงูููุท ุงูุชูุงุนูู</h3><p class="text-sm opacity-90">ุฃุญุจ ุงูุชูุงุนู ูุงูุฃุฏูุงุช ุงูุฑูููุฉ</p></div>
        </div>
        <div class="pattern-card comprehensive-pattern text-white p-6 rounded-xl cursor-pointer" onclick="selectPattern('comprehensive')">
          <div class="text-center"><div class="text-4xl mb-4">๐</div><h3 class="text-xl font-bold mb-2">ุงูููุท ุงูุดุงูู</h3><p class="text-sm opacity-90">ุฃุฑูุฏ ุฑุคูุฉ ุฌููุน ุงูุฃุณุฆูุฉ ูุนูุง</p></div>
        </div>
      </div>
    </div>

    <!-- Questions Container -->
    <div id="questionsContainer" class="hidden">
      <div class="flex justify-between items-center mb-8">
        <h2 class="text-2xl font-bold text-gray-800">ุงูุฃุณุฆูุฉ ุงููุฎุชุงุฑุฉ</h2>
        <button onclick="resetSelection()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors">๐ ุชุบููุฑ ุงูููุท</button>
      </div>
      <div id="questionsList" class="space-y-8"></div>
    </div>
  </div>

  <script>
    /* ุฃุฑูุงู ุงูุฃุณุฆูุฉ ููู ููุท */
    const questions = {
      visual: [2,5,6,7,8,9,10,11],
      analytical: [3,4],
      interactive: [1],
      comprehensive: [1,2,3,4,5,6,7,8,9,10,11]
    };

    /* ุจูุงูุงุช ุงูุฃุณุฆูุฉ โ ุชู ุงุณุชุจุฏุงู ุงูุตูุฑ ุจุฑูุงุจุท Google Drive ุงููุจุงุดุฑุฉ ุฏุงุฎู ุฅุทุงุฑ ูุณุชุทูู */
    const questionData = {
      1: {
        type: 'interactive',
        title: 'ุงูุณุคุงู ุงูุฃูู: ุฑุณู ุงูุฏุงูุฉ',
        question: 'ุงุฑุณูู ุงูุฏุงูุฉ f(x) = |x| - 2 ุจุงุณุชุฎุฏุงู ุฌููุฌุจุฑุงุ ูุง ูู ุดูู ุงูุฑุณู ุงูุจูุงููุ',
        formula: 'f(x) = |x| - 2',
        geogebra: 'https://www.geogebra.org/classic?lang=ar',
        options: {
          A: 'ุฎุท ูุณุชููู ููุฑ ุจุงูุฃุตู',
          B: 'ูุทุน ููุงูุฆ ููุชุญ ููุฃุนูู',
          C: 'ุดูู V ูุน ุฑุฃุณ ุนูุฏ ุงูููุทุฉ (0, -2)',
          D: 'ุฏุงุฆุฑุฉ ูุฑูุฒูุง ุงูุฃุตู'
        },
        correct: 'C'
      },
      2: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุซุงูู: ุชุญููู ุงูุตูุฑุฉ',
        question: 'ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุนุทุงุฉุ ูุง ูู ููุน ุงูุฏุงูุฉ ุงูููุซูุฉุ',
        image: 'https://drive.google.com/uc?export=view&id=1l5a3wHX84fUaRbAuSEVfveucszK05_kD',
        options: { A: 'ุฏุงูุฉ ุฎุทูุฉ', B: 'ุฏุงูุฉ ุชุฑุจูุนูุฉ', C: 'ุฏุงูุฉ ูุทููุฉ', D: 'ุฏุงูุฉ ุฃุณูุฉ' },
        correct: 'B'
      },
      3: {
        type: 'analytical',
        title: 'ุงูุณุคุงู ุงูุซุงูุซ: ูุฏู ุงูุฏุงูุฉ',
        question: 'ูุง ูู ูุฏู ุงูุฏุงูุฉ ุงูุชุงููุฉ:',
        formula: 'f(x) = [x + 2]',
        options: { A: 'โ (ุงูุฃุนุฏุงุฏ ุงููุณุจูุฉ)', B: 'โ (ุงูุฃุนุฏุงุฏ ุงูุทุจูุนูุฉ)', C: 'โค (ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ)', D: 'โ (ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ)' },
        correct: 'C'
      },
      4: {
        type: 'analytical',
        title: 'ุงูุณุคุงู ุงูุฑุงุจุน: ุญุณุงุจ ุงููููุฉ',
        question: 'ุงุญุณุจู ูููุฉ:',
        formula: '[-4.8] = ?',
        options: { A: '0', B: '-4', C: '-5', D: '4' },
        correct: 'C'
      },
      5: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุฎุงูุณ',
        question: 'ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุนุทุงุฉุ ุงุฎุชุงุฑู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:',
        image: 'https://drive.google.com/uc?export=view&id=1_kQ7x38kpFKlDf9VTtMt9FESJ9FIeSs2',
        options: { A: 'ุงูุฎูุงุฑ ุงูุฃูู', B: 'ุงูุฎูุงุฑ ุงูุซุงูู', C: 'ุงูุฎูุงุฑ ุงูุซุงูุซ', D: 'ุงูุฎูุงุฑ ุงูุฑุงุจุน' },
        correct: 'A'
      },
      6: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุณุงุฏุณ',
        question: 'ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุนุทุงุฉุ ุงุฎุชุงุฑู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:',
        image: 'https://drive.google.com/uc?export=view&id=1ohLVEvgn8kaTvmCpRrFKTRq7Zn9tgfiW',
        options: { A: 'ุงูุฎูุงุฑ ุงูุฃูู', B: 'ุงูุฎูุงุฑ ุงูุซุงูู', C: 'ุงูุฎูุงุฑ ุงูุซุงูุซ', D: 'ุงูุฎูุงุฑ ุงูุฑุงุจุน' },
        correct: 'B'
      },
      7: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุณุงุจุน',
        question: 'ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุนุทุงุฉุ ุงุฎุชุงุฑู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:',
        image: 'https://drive.google.com/uc?export=view&id=1vaACoTHwhtkl-WHluov6bEOs4FxNCFnc',
        options: { A: 'ุงูุฎูุงุฑ ุงูุฃูู', B: 'ุงูุฎูุงุฑ ุงูุซุงูู', C: 'ุงูุฎูุงุฑ ุงูุซุงูุซ', D: 'ุงูุฎูุงุฑ ุงูุฑุงุจุน' },
        correct: 'C'
      },
      8: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุซุงูู',
        question: 'ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุนุทุงุฉ, ุงุฎุชุงุฑู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:',
        image: 'https://drive.google.com/uc?export=view&id=1vaACoTHwhtkl-WHluov6bEOs4FxNCFnc',
        options: { A: 'ุงูุฎูุงุฑ ุงูุฃูู', B: 'ุงูุฎูุงุฑ ุงูุซุงูู', C: 'ุงูุฎูุงุฑ ุงูุซุงูุซ', D: 'ุงูุฎูุงุฑ ุงูุฑุงุจุน' },
        correct: 'D'
      },
      9: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุชุงุณุน',
        question: 'ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุนุทุงุฉุ ุงุฎุชุงุฑู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:',
        image: 'https://drive.google.com/uc?export=view&id=1otV0-2hx-0ZGV2EBg2HXgYeAD6AUTcUu',
        options: { A: 'ุงูุฎูุงุฑ ุงูุฃูู', B: 'ุงูุฎูุงุฑ ุงูุซุงูู', C: 'ุงูุฎูุงุฑ ุงูุซุงูุซ', D: 'ุงูุฎูุงุฑ ุงูุฑุงุจุน' },
        correct: 'A'
      },
      10: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุนุงุดุฑ',
        question: 'ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุนุทุงุฉุ ุงุฎุชุงุฑู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:',
        image: 'https://drive.google.com/uc?export=view&id=1otV0-2hx-0ZGV2EBg2HXgYeAD6AUTcUu',
        options: { A: 'ุงูุฎูุงุฑ ุงูุฃูู', B: 'ุงูุฎูุงุฑ ุงูุซุงูู', C: 'ุงูุฎูุงุฑ ุงูุซุงูุซ', D: 'ุงูุฎูุงุฑ ุงูุฑุงุจุน' },
        correct: 'B'
      },
      11: {
        type: 'visual',
        title: 'ุงูุณุคุงู ุงูุญุงุฏู ุนุดุฑ: ุงูุชูุซูู ุงูุตุญูุญ ููุฏุงูุฉ',
        question: 'ูุง ูู ุงูุชูุซูู ุงูุตุญูุญ ููุฏุงูุฉ:',
        formula: 'f(x) = |x| + 1',
        image: 'https://drive.google.com/uc?export=view&id=1khOE8w5h2cDRdsbb-opMrFXclIqZYt83',
        options: { A: 'ุงูุฑุณู ุงูุจูุงูู ุงูุฃูู', B: 'ุงูุฑุณู ุงูุจูุงูู ุงูุซุงูู', C: 'ุงูุฑุณู ุงูุจูุงูู ุงูุซุงูุซ', D: 'ุงูุฑุณู ุงูุจูุงูู ุงูุฑุงุจุน' },
        correct: 'A'
      }
    };

    function selectPattern(pattern) {
      document.getElementById('patternSelection').classList.add('hidden');
      document.getElementById('questionsContainer').classList.remove('hidden');

      const list = document.getElementById('questionsList');
      list.innerHTML = '';
      const selected = questions[pattern];

      selected.forEach((num, index) => {
        const q = questionData[num];
        const card = document.createElement('div');
        card.className = 'question-card p-6';

        let html = `
          <div class="flex items-center mb-4">
            <div class="bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold ml-3">
              ${index + 1}
            </div>
            <h3 class="text-xl font-bold text-gray-800">${q.title}</h3>
          </div>

          <div class="bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-xl p-6 mb-6">
            <p class="text-lg font-medium text-gray-800 mb-4">${q.question}</p>
        `;

        if (q.formula) {
          html += `
            <div class="bg-white p-4 rounded-lg text-center text-xl font-bold text-blue-800 mb-4 border-2 border-blue-300">
              ${q.formula}
            </div>
          `;
        }

        if (q.image) {
          html += `
            <div class="text-center mb-4">
              <div class="img-frame max-w-2xl mx-auto">
                <img src="${q.image}" referrerpolicy="no-referrer"
                     alt="ุตูุฑุฉ ุงูุณุคุงู"
                     class="w-full rounded-lg shadow-md"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <div class="hidden text-center p-8 bg-gray-100 rounded-lg">
                  <div class="text-4xl mb-2">๐ผ๏ธ</div>
                  <p class="text-gray-600 mb-2">ูุง ูููู ุชุญููู ุงูุตูุฑุฉ</p>
                  <a href="${q.image}" target="_blank" class="text-blue-500 hover:text-blue-700 underline font-bold">๐ ูุชุญ ุงูุตูุฑุฉ ูู ุชุจููุจ ุฌุฏูุฏ</a>
                </div>
              </div>
            </div>
          `;
        }

        if (q.geogebra) {
          html += `
            <div class="geogebra-container p-4 mb-4">
              <div class="text-center">
                <h4 class="text-lg font-bold text-blue-800 mb-2">๐ฏ ุฃุฏุงุฉ ุฌููุฌุจุฑุง ุงูุชูุงุนููุฉ</h4>
                <a href="${q.geogebra}" target="_blank"
                   class="inline-block bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-bold transition-colors">
                  ๐ ุงูุชุญู ุฌููุฌุจุฑุง ููุงุณูู
                </a>
              </div>
            </div>
          `;
        }

        html += `</div>`;

        /* ุฎูุงุฑุงุช ุงูุฅุฌุงุจุฉ */
        html += `<div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-question="${num}">`;
        Object.entries(q.options).forEach(([key, value]) => {
          html += `
            <button class="option-btn bg-white hover:bg-blue-50 border-2 border-gray-300 hover:border-blue-500 p-4 rounded-lg transition-all text-right"
                    onclick="selectOption(this, '${key}', ${num})">
              <span class="font-bold text-blue-600">(${key})</span> ${value}
            </button>
          `;
        });
        html += `</div><div id="feedback-${num}" class="mt-4 hidden"></div>`;

        card.innerHTML = html;
        list.appendChild(card);
      });

      /* ุฑุณุงูุฉ ุฅููุงุก */
      const done = document.createElement('div');
      done.className = 'text-center p-8 bg-gradient-to-r from-green-400 to-blue-500 text-white rounded-xl';
      done.innerHTML = `
        <div class="text-4xl mb-4">๐</div>
        <h3 class="text-2xl font-bold mb-2">ุฃุญุณูุชู!</h3>
        <p class="text-lg">ููุฏ ุฃูููุชู ุฌููุน ุงูุฃุณุฆูุฉ ุงูููุงุณุจุฉ ูููุท ุชุนููู</p>
      `;
      list.appendChild(done);
    }

    function resetSelection() {
      document.getElementById('patternSelection').classList.remove('hidden');
      document.getElementById('questionsContainer').classList.add('hidden');
    }

    function selectOption(button, selectedOption, questionNum) {
      const q = questionData[questionNum];
      const isCorrect = selectedOption === q.correct;
      const feedbackDiv = document.getElementById(`feedback-${questionNum}`);

      const siblings = button.parentNode.querySelectorAll('.option-btn');
      siblings.forEach(btn => {
        btn.disabled = true;
        btn.classList.remove('bg-blue-100','border-blue-500','bg-green-100','border-green-500','bg-red-100','border-red-500');
        btn.classList.add('bg-gray-100','border-gray-300','opacity-60');
      });

      siblings.forEach(btn => {
        const btnOption = btn.onclick.toString().match(/'([A-D])'/)[1];
        if (btnOption === q.correct) {
          btn.classList.remove('bg-gray-100','border-gray-300','opacity-60');
          btn.classList.add('bg-green-100','border-green-500','opacity-100');
        }
      });

      if (!isCorrect) {
        button.classList.remove('bg-gray-100','border-gray-300');
        button.classList.add('bg-red-100','border-red-500','opacity-100');
      }

      feedbackDiv.classList.remove('hidden');
      if (isCorrect) {
        const encouragements = [
          '๐ ููุชุงุฒ! ุฅุฌุงุจุฉ ุตุญูุญุฉ!',
          '๐ ุฃุญุณูุชู! ุฅุฌุงุจุฉ ุฑุงุฆุนุฉ!',
          'โญ ุนุธูู! ุฃูุชู ุนูู ุงูุทุฑูู ุงูุตุญูุญ!',
          '๐ ุจุฑุงูู! ุฅุฌุงุจุฉ ูุซุงููุฉ!',
          '๐ฏ ููุชุงุฒ ุฌุฏูุง! ุงุณุชูุฑู ููุฐุง!',
          '๐ซ ุฑุงุฆุน! ุฃูุชู ุชุชูุฏููู ุจุดูู ููุชุงุฒ!'
        ];
        const randomEnc = encouragements[Math.floor(Math.random() * encouragements.length)];
        feedbackDiv.innerHTML = `
          <div class="bg-gradient-to-r from-green-400 to-emerald-500 text-white p-6 rounded-xl text-center animate-bounce">
            <div class="text-3xl mb-2">๐</div>
            <h4 class="text-xl font-bold mb-2">${randomEnc}</h4>
            <p class="text-green-100">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู: (${q.correct})</p>
          </div>
        `;
        createConfetti();
      } else {
        feedbackDiv.innerHTML = `
          <div class="bg-gradient-to-r from-orange-400 to-red-400 text-white p-6 rounded-xl text-center">
            <div class="text-3xl mb-2">๐ช</div>
            <h4 class="text-xl font-bold mb-2">ูุง ุจุฃุณ! ุชุนููู ูู ุงูุฃุฎุทุงุก</h4>
            <p class="text-red-100 mb-2">ุงุฎุชุฑุชู: (${selectedOption})</p>
            <p class="text-red-100">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู: (${q.correct})</p>
            <p class="text-red-100 mt-2 text-sm">๐ก ุฑุงุฌุนู ุงูููููู ูุญุงููู ูุฑุฉ ุฃุฎุฑู!</p>
          </div>
        `;
      }
    }

    function createConfetti() {
      const colors = ['#ff6b6b','#4ecdc4','#45b7d1','#96ceb4','#ffeaa7','#dda0dd'];
      for (let i = 0; i < 50; i++) {
        const dot = document.createElement('div');
        dot.style.position = 'fixed';
        dot.style.left = Math.random() * 100 + 'vw';
        dot.style.top = '-10px';
        dot.style.width = '10px';
        dot.style.height = '10px';
        dot.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        dot.style.borderRadius = '50%';
        dot.style.pointerEvents = 'none';
        dot.style.zIndex = '9999';
        dot.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
        document.body.appendChild(dot);
        setTimeout(() => dot.remove(), 5000);
      }
    }

    const style = document.createElement('style');
    style.textContent = `@keyframes fall { to { transform: translateY(100vh) rotate(360deg);} }`;
    document.head.appendChild(style);
  </script>
</body>
</html>
